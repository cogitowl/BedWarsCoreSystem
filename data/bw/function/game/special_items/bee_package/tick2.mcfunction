execute as @e[type=bee,tag=package,tag=!result] at @s unless entity @e[type=minecraft:item,tag=!result,distance=..1] run summon minecraft:item ~ ~ ~ {Item:{Count:1,id:"minecraft:bee_spawn_egg",tag:{EntityTag:{AngerTime:2147483647,Attributes:[{Base:0d,Name:"minecraft:generic.attack_damage"},{Name:"minecraft:generic.knockback_resistance",Base:1d}],Tags:["package"]},display:{Lore:['{"text":"","extra":["",{"text":"放在物品实体旁边即可运输到指针选择的玩家，上限64格","color":"gray"}],"italic":false,"color":"white"}','{"text":"","extra":["",{"text":"货物丢失，概不负责","color":"red","bold":true}],"italic":false,"color":"white"}'],Name:'{"text":"","extra":["",{"text":"顺蜂快递","color":"gold"}],"italic":false}'}}},Tags:["result"]}
execute as @e[type=bee,tag=package] at @s unless entity @e[type=minecraft:item,tag=!result,distance=..1] run kill
execute as @e[type=bee,tag=package,tag=!result] at @s as @e[type=minecraft:item,tag=!result,distance=..1] run ride @s mount @e[type=bee,tag=package,sort=nearest,limit=1]
execute as @e[type=bee,tag=package,tag=!result] at @s run scoreboard players operation @s compass_select = @p[gamemode=!spectator] compass_select
execute as @e[type=bee,tag=package] at @a if score @s compass_select = @p player_id run data modify entity @s AngryAt set from entity @p UUID
execute as @e[type=bee,tag=package,tag=!result] at @a if score @s compass_select = @p player_id if entity @s[distance=64..] at @s run tellraw @p [{"color":"red","text":"距离指定目标太远了（超过64格）"}]
execute as @e[type=bee,tag=package,tag=!result] at @a if score @s compass_select = @p compass_select if entity @s[distance=64..] run summon minecraft:item ~ ~ ~{Item:{Count:1,id:"minecraft:bee_spawn_egg",tag:{EntityTag:{AngerTime:2147483647,Attributes:[{Base:0d,Name:"minecraft:generic.attack_damage"},{Name:"minecraft:generic.knockback_resistance",Base:1d}],Tags:["package"]},display:{Lore:['{"text":"","extra":["",{"text":"放在物品实体旁边即可运输到指针选择的玩家","color":"gray"}],"italic":false,"color":"white"}','{"text":"","extra":["",{"text":"货物丢失，概不负责","color":"red","bold":true}],"italic":false,"color":"white"}'],Name:'{"text":"","extra":["",{"text":"顺蜂快递","color":"gold"}],"italic":false}'}}},Tags:["result"]}
execute as @e[type=bee,tag=package,tag=!result] at @a if score @s compass_select = @p player_id if entity @s[distance=64..] run kill @s
tag @e[type=bee,tag=package,tag=!result] add result
execute as @a at @e[type=bee,tag=package,tag=result] if score @s player_id = @e[type=bee,tag=package,tag=result,sort=nearest,limit=1] compass_select if entity @s[distance=32..] if block ^ ^ ^1 air run tp @e[type=bee,tag=package,tag=result,sort=nearest,limit=1] ^ ^ ^1 facing entity @s